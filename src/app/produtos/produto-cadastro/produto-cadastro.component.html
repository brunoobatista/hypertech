<div class="row">
  <!-- left column -->
<div class="col-md-12">

  <!-- general form elements -->
  <div class="box box-primary">
    <div class="box-header with-border">
      <h3 class="box-title">{{titulo}} produto</h3>
    </div>
    <!-- /.box-header -->
    <!-- form start -->
    <form  (ngSubmit)="adicionar()"  [formGroup]="formulario">
      <div class="box-body">
        <div class="row">
          <div class="form-group col-md-6">
            <label for="nome">Nome</label>
            <input type="text" class="form-control" id="nome" placeholder=""
              name="nome" formControlName="nome" autofocus>

            <app-message [control]="formulario.get('nome')" error="obrigatoriedade"
                text="Informe o nome" msg="Nome é obrigatório"
                ></app-message>

            <app-message [control]="formulario.get('nome')" error="tamanhoMinimo"
                text="Mínimo de {{ formulario.get('nome').errors?.tamanhoMinimo?.tamanho }} caracteres" msg="Nome é obrigatório"
                ></app-message>

          </div>

          <div class="form-group col-md-6" formGroupName="tipo">
                <label for="nome">Tipo</label>

                <ng-select [items]="tipos"
                            bindLabel="nome"
                            bindValue="id"
                            
                            [virtualScroll]="true"
                            [hideSelected]="false"
                            (search)="carregarTipos($event)"

                            placeholder="Tipo"
                            notFoundText="Tipo não encontrado"
                            loadingText="Carregando..."
                            typeToSearchText="Digite para buscar"
                            
                            formControlName="id">

                  </ng-select>


                <app-message [control]="formulario.get('id')" error="obrigatoriedade"
                    text="Informe o tipo" msg="Tipo é obrigatório">
                </app-message>
            </div>
          
        </div>

        <div class="row">
            <div class="form-group col-md-3">
                <label for="nome">Valor</label>
                <input type="text" class="form-control" id="valor" placeholder=""
                  name="valor" formControlName="valor"
                  currencyMask  [options]="{ prefix: '', thousands: '.', decimal: ',', allowNegative: false}">

                <app-message [control]="formulario.get('valor')" error="obrigatoriedade"
                    text="Informe o valor" msg="Valor é obrigatório"
                    ></app-message>

            </div>

            <div class="form-group col-md-3">

              <label for="nome">Estoque</label>
              <input type="text" class="form-control" id="estoque" placeholder=""
                name="estoque" formControlName="estoque"
                currencyMask  [options]="{ prefix: '', thousands: '', decimal: '', precision: '', allowNegative: false}">
  
            </div>

            

        </div>

      </div>
      <!-- /.box-body -->

      <div class="box-footer">
        <button type="submit" class="btn btn-primary">Salvar</button>
      </div>
    </form>
  </div>
  <!-- /.box -->
</div>

</div>
